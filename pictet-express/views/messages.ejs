<%- include('partials/header') %>
<%- include('partials/secondary-nav') %>
<%- include('partials/client-header') %>

<div class="main-container">
    <h1>Messages</h1>
    
    <div class="messages-container">
        <div class="message-tabs">
            <button class="message-tab active" onclick="showMessageTab('inbox')">Inbox</button>
            <button class="message-tab" onclick="showMessageTab('sent')">Sent Messages</button>
        </div>
        
        <div class="messages-section" id="inbox-section">
            <div class="message-filters">
                <button class="btn btn-outline-primary active">All Messages</button>
                <button class="btn btn-outline-primary">Unread</button>
                <button class="btn btn-outline-primary">Important</button>
            </div>
            <div class="message-list">
                <div class="message-item unread">
                    <div class="message-header">
                        <h3>Portfolio Update Available</h3>
                        <span class="date">Today, 10:30</span>
                    </div>
                    <p class="preview">Your Q2 2024 portfolio review is now available for viewing...</p>
                </div>
                <div class="message-item important">
                    <div class="message-header">
                        <h3>Investment Opportunity Alert</h3>
                        <span class="date">Yesterday, 15:45</span>
                    </div>
                    <p class="preview">New sustainable energy fund launching next week...</p>
                </div>
                <div class="message-item">
                    <div class="message-header">
                        <h3>Market Update</h3>
                        <span class="date">2 days ago</span>
                    </div>
                    <p class="preview">Weekly market insights from our chief investment officer...</p>
                </div>
            </div>
        </div>
        
        <div class="messages-section" id="sent-section" style="display: none;">
            <div class="message-list">
                <div class="message-item sent">
                    <div class="message-header">
                        <h3>To: Alexander Dubois - Investment Opportunity Inquiry</h3>
                        <span class="date">Today, 14:23</span>
                    </div>
                    <p class="preview">Hi Alexander, I'm interested in the BULLETIN BOARD - SECONDARY MARKET OPPORTUNITIES fund and would like to discuss it with you. Please review the attached fund summary and let me know your thoughts. The fund focuses on Secondary Buyout strategies across Various sectors...</p>
                    <div class="message-details">
                        <span class="recipient">Sent to: alexander.dubois@lombardodier.com</span>
                        <span class="status">✓ Delivered</span>
                    </div>
                </div>
                <div class="message-item sent">
                    <div class="message-header">
                        <h3>To: Alexander Dubois - Portfolio Review Request</h3>
                        <span class="date">2 days ago</span>
                    </div>
                    <p class="preview">Hello Alexander, I would like to schedule a review of my current portfolio performance and discuss potential rebalancing opportunities...</p>
                    <div class="message-details">
                        <span class="recipient">Sent to: alexander.dubois@lombardodier.com</span>
                        <span class="status">✓ Read</span>
                    </div>
                </div>
                <div class="message-item sent">
                    <div class="message-header">
                        <h3>To: Alexander Dubois - Market Outlook Discussion</h3>
                        <span class="date">1 week ago</span>
                    </div>
                    <p class="preview">Hi Alexander, Given the recent market volatility, I'd appreciate your insights on our current positioning and any recommended adjustments...</p>
                    <div class="message-details">
                        <span class="recipient">Sent to: alexander.dubois@lombardodier.com</span>
                        <span class="status">✓ Read</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.message-tabs {
    display: flex;
    border-bottom: 2px solid #e0e6ed;
    margin-bottom: 2rem;
    gap: 0;
}

.message-tab {
    padding: 0.75rem 1.5rem;
    border: none;
    background: transparent;
    font-size: 1rem;
    font-weight: 500;
    color: #666;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
}

.message-tab.active {
    color: #e60012;
    border-bottom-color: #e60012;
    background: #f8fafc;
}

.message-tab:hover {
    color: #e60012;
    background: #f8fafc;
}

.message-item.sent {
    border-left: 4px solid #28a745;
    background: #f8fff9;
}

.message-details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    color: #666;
}

.recipient {
    font-weight: 500;
}

.status {
    color: #28a745;
    font-weight: 500;
}

.messages-section {
    min-height: 400px;
}
</style>

<script>
function showMessageTab(tabName) {
    // Hide all sections
    document.getElementById('inbox-section').style.display = 'none';
    document.getElementById('sent-section').style.display = 'none';
    
    // Remove active class from all tabs
    document.querySelectorAll('.message-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Show selected section and activate tab
    if (tabName === 'inbox') {
        document.getElementById('inbox-section').style.display = 'block';
        document.querySelector('.message-tab[onclick*="inbox"]').classList.add('active');
    } else if (tabName === 'sent') {
        document.getElementById('sent-section').style.display = 'block';
        document.querySelector('.message-tab[onclick*="sent"]').classList.add('active');
    }
}
</script>

<%- include('partials/footer') %> 